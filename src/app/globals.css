/* Tailwind v4 base */
@import "tailwindcss";

/* Scan globs */
@source "./src/app/**/*.{ts,tsx}";
@source "./src/components/**/*.{ts,tsx}";
@source "./src/pages/**/*.{ts,tsx}";
@source "./src/**/*.html";
@source "./app/**/*.{ts,tsx}";
@source "./components/**/*.{ts,tsx}";
@source "./pages/**/*.{ts,tsx}";

/* Theme tokens */
@theme {
  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
    "Apple Color Emoji", "Segoe UI Emoji";

  /* Brand green */
  --color-primary-50:  #f0fdf4;
  --color-primary-100: #dcfce7;
  --color-primary-200: #bbf7d0;
  --color-primary-300: #86efac;
  --color-primary-600: #16a34a;
  --color-primary-700: #15803d;
  --color-primary-800: #166534;

  --color-bg:  #ffffff;
  --color-ink: #111827;
}

:root {
  color-scheme: light;
  --color-brand: var(--color-primary-600); /* legacy alias */
  --color-brand-600: var(--color-primary-600);
  --color-brand-700: var(--color-primary-700);
  --color-brand-800: var(--color-primary-800);
}

html, body { min-height: 100%; }

body {
  font-family: var(--font-sans);
  background: var(--color-bg);
  color: var(--color-ink);
  -webkit-tap-highlight-color: transparent;
  /* No global safe-area padding here to avoid double spacing on desktop/Android */
}

/* Apply safe-area only when running as a PWA on iOS/Android */
@media (display-mode: standalone) {
  body {
    padding:
      env(safe-area-inset-top)
      env(safe-area-inset-right)
      env(safe-area-inset-bottom)
      env(safe-area-inset-left);
  }
}

/* Sticky header helper */
.sticky-header { position: sticky; top: 0; z-index: 40; }

/* ===== Floating Action Button (FAB) =====
   Add either class="app-fab" or data-fab to your FAB button.
*/
.app-fab { position: fixed; z-index: 30; }

/* Hide FAB whenever any modal sets the modal-open flag */
html.modal-open .app-fab,
body.modal-open .app-fab,
html.modal-open [data-fab],
body.modal-open [data-fab] {
  display: none !important;
}

/* iOS momentum scrolling helper */
.touch-scroll { -webkit-overflow-scrolling: touch; touch-action: pan-y; }

/* Optional safe-area utilities (use only if you don't rely on the global @media block) */
.safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
.safe-top    { padding-top: env(safe-area-inset-top); }

/* --- Safe-area CSS variables (default 0) --- */
:root {
  --safe-top: 0px;
  --safe-right: 0px;
  --safe-bottom: 0px;
  --safe-left: 0px;
}

@media (display-mode: standalone) {
  :root {
    --safe-top: env(safe-area-inset-top);
    --safe-right: env(safe-area-inset-right);
    --safe-bottom: env(safe-area-inset-bottom);
    --safe-left: env(safe-area-inset-left);
  }
}

/* Optional utilities for fixed/sticky chrome */
@media (display-mode: standalone) {
  .safe-area-t { padding-top: var(--safe-top); }
  .safe-area-b { padding-bottom: var(--safe-bottom); }
  .safe-area-x { padding-left: var(--safe-left); padding-right: var(--safe-right); }
}
